require('dotenv').config();
const { MNEMONIC, INFURA_API_KEY, ETHERSCAN_API_KEY, } = process.env;
const HDWalletProvider = require('@truffle/hdwallet-provider');



module.exports = {
  // Configure your compilers
  contracts_directory: './contracts',
  contracts_build_directory: './build',
  migrations_directory: './migrations',


  compilers: {
    solc: {
      version: '0.8.19',
      settings: {
        optimizer: {
          enabled: true,
          runs: 200,
        },
      },
    },
  },


  networks: {
    goerli: {
      provider: () => new HDWalletProvider(
        MNEMONIC,
        `https://goerli.infura.io/v3/${INFURA_API_KEY}`
      ),
      network_id: 5,       // Goerli's id
      confirmations: 2,    // # of confirmations to wait between deployments. (default: 0)
      timeoutBlocks: 200,  // # of blocks before a deployment times out  (minimum/default: 50)
      skipDryRun: true     // Skip dry run before migrations? (default: false for public nets )
    },
  },


  mocha: {
    timeout: 12000,
    useColors: true,
  },


  plugins: [
    'truffle-plugin-verify',
  ],


  api_keys: {
    etherscan: ETHERSCAN_API_KEY,
  },
  etherscan: {
    apiKey: ETHERSCAN_API_KEY,
  },
};
